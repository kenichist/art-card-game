<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Unity WebGL Test</title>
    <style>
      /* Basic styling to see the canvas */
      body { margin: 0; overflow: hidden; background-color: #2b2b2b; }
      #unity-container { width: 100vw; height: 100vh; }
      #unity-canvas { width: 100%; height: 100%; background: #231F20; }
    </style>
  </head>
  <body>
    <!-- Container for the Unity content -->
    <div id="unity-container">
        <canvas id="unity-canvas"></canvas>
    </div>

    <!-- Unity Loader Script -->
    <script src="UnityBuild/Build/UnityBuild.loader.js"></script>
    <script>
      // Configuration matching your React component
      const config = {
        dataUrl: "UnityBuild/Build/UnityBuild.data", // Relative path from test.html
        frameworkUrl: "UnityBuild/Build/UnityBuild.framework.js",
        codeUrl: "UnityBuild/Build/UnityBuild.wasm",
        streamingAssetsUrl: "UnityBuild/StreamingAssets",
        companyName: "DefaultCompany",
        productName: "UnityBuild",
        productVersion: "1.0",
        // Add devicePixelRatio: 1 if you encounter display scaling issues
      };

      // Get the container element
      const container = document.querySelector("#unity-container");
      const canvas = document.querySelector("#unity-canvas"); // Unity might need the canvas directly sometimes

      // Optional: Add loading indicator if needed
      const loadingIndicator = document.createElement('div');
      loadingIndicator.style.cssText = "position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); color: white; font-size: 1.5em;";
      loadingIndicator.innerText = "Loading Unity...";
      container.appendChild(loadingIndicator);


      // Create the Unity instance
      createUnityInstance(canvas, config, (progress) => { // Pass canvas directly
        console.log(`Unity Loading Progress: ${progress * 100}%`);
        loadingIndicator.innerText = `Loading... ${(progress * 100).toFixed(0)}%`;
      }).then((unityInstance) => {
        console.log("Unity instance created successfully (Standalone Test).");
        loadingIndicator.remove(); // Remove loading text on success
        // You don't need to store the instance here unless you want to interact with it
      }).catch((message) => {
        console.error("Failed to create Unity instance (Standalone Test):", message);
        alert(`Failed to initialize Unity: ${message}`); // Show error clearly
        loadingIndicator.innerText = `Error: ${message}`;
        loadingIndicator.style.color = 'red';
      });
    </script>
  </body>
</html>